(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{"124":function(e,t,r){"use strict";var n=r(300),a=r(309),c=r(308),o=r(16);t.a=function requestApi(e){var t=e.url,r=e.method,l=void 0===r?"POST":r,i=e.data,u=Object(n.a)("token"),s={};return u&&(s.authorization=u),new Promise((function(e){Object(a.a)({"url":"".concat("http://120.25.254.240:32000").concat(t),"method":l,"data":i,"header":s,"success":function success(t){if(!t.data.success&&(401===t.data.code||1e4===t.data.code))return Object(n.b)("token"),Object(n.c)("isLogin",!1),Object(c.b)({"title":"请重新登录","icon":"none"}),void Object(o.e)({"url":"/pages/index/index"});e(t.data)}})}))}},"126":function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"c",(function(){return l})),r.d(t,"a",(function(){return i})),r.d(t,"b",(function(){return u})),r.d(t,"e",(function(){return s}));var n=r(21),a=r(29),c=r(124),o=function searchPlan(e){return new Promise(function(){var t=Object(a.a)(Object(n.a)().mark((function _callee(t){var r;return Object(n.a)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.a)({"url":"/plans/searchPlan","data":e});case 2:r=n.sent,t(r);case 4:case"end":return n.stop()}}),_callee)})));return function(e){return t.apply(this,arguments)}}())},l=function searchAllPlan(e){return new Promise(function(){var t=Object(a.a)(Object(n.a)().mark((function _callee2(t){var r;return Object(n.a)().wrap((function _callee2$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.a)({"url":"/plans/searchAllPlan","data":e});case 2:r=n.sent,t(r);case 4:case"end":return n.stop()}}),_callee2)})));return function(e){return t.apply(this,arguments)}}())},i=function createPlan(e){return new Promise(function(){var t=Object(a.a)(Object(n.a)().mark((function _callee3(t){var r;return Object(n.a)().wrap((function _callee3$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.a)({"url":"/plans/createPlan","data":e});case 2:r=n.sent,t(r);case 4:case"end":return n.stop()}}),_callee3)})));return function(e){return t.apply(this,arguments)}}())},u=function deletePlan(e){return new Promise(function(){var t=Object(a.a)(Object(n.a)().mark((function _callee4(t){var r;return Object(n.a)().wrap((function _callee4$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.a)({"url":"/plans/deletePlan","data":e});case 2:r=n.sent,t(r);case 4:case"end":return n.stop()}}),_callee4)})));return function(e){return t.apply(this,arguments)}}())},s=function updatePlan(e){return new Promise(function(){var t=Object(a.a)(Object(n.a)().mark((function _callee5(t){var r;return Object(n.a)().wrap((function _callee5$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(c.a)({"url":"/plans/updatePlan","data":e});case 2:r=n.sent,t(r);case 4:case"end":return n.stop()}}),_callee5)})));return function(e){return t.apply(this,arguments)}}())}},"288":function(e,t,r){},"311":function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return home}));var n=r(12),a=r(18),c=r(21),o=r(29),l=r(15),i=r(17),u=r(263),s=r(301);function rand(e,t){return Math.random()*(t-e)+e}r(288);var f=r(126),d=r(125);function home(){var e=Object(s.a)(),t=e.windowWidth,r=e.windowHeight;r-=50;var b=Object(i.useRef)(null),p=Object(i.useState)(),v=Object(l.a)(p,2),x=v[0],j=v[1],O=Object(i.useState)(null),h=Object(l.a)(O,2),y=h[0],g=h[1],w=(Object(i.useRef)(0).current,Object(i.useRef)([])),m=Object(i.useRef)(0),P=Object(i.useRef)([{"x":30,"y":30,"originX":t/2,"originY":r/2,"r":20,"enlarge":!0,"scale":1,"isUp":!0}]),_=function getBubbleData(e){return{"size":rand(2,5),"x":rand(5,t-5),"y":r+rand(5,40),"speed":rand(1,5),"xLeft":"boolean"==typeof e?e:Math.random()>.5}};Object(i.useEffect)((function(){C()}),[]);var C=function(){var e=Object(o.a)(Object(c.a)().mark((function _callee(){var e,t,r;return Object(c.a)().wrap((function _callee$(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(f.c)({});case 2:if((e=n.sent).success){n.next=5;break}return n.abrupt("return");case 5:t=0,r=0,e.data.list.forEach((function(e){t+=e.planDays,r+=e.punchDays})),g(Number(r/t%1==0?"".concat(r/t,".00"):(r/t).toFixed(2)));case 9:case"end":return n.stop()}}),_callee)})));return function getInfo(){return e.apply(this,arguments)}}();Object(i.useEffect)((function(){if("number"==typeof y){if(!x)return P.current=[{"x":t/2,"y":t/2,"originX":t/2,"originY":r/2,"r":100,"enlarge":!0,"scale":1,"isUp":!0}],b.current.width=t,b.current.height=r,void j(b.current.getContext("2d"));for(var e=0;e<50;e++)w.current.push(Object(a.a)({},_()));S()}}),[x,y]);var S=function canvasInit(){if(x){x.clearRect(0,0,t,r),x.fillStyle="#000",k({"x1":t/2,"y1":0,"x2":t/2,"y2":r,"color1":"#150869","color2":"#000004"});var e=m.current%30==0;w.current.forEach((function(r,n){var c=r.x,o=r.y,l=r.speed;if(o<0||c<0||c>t)w.current[n]=Object(a.a)({},_());else{var i=l*Math.tan(5*Math.PI/180);e&&(w.current[n].xLeft=!w.current[n].xLeft),w.current[n]=Object(a.a)(Object(a.a)({},r),{},{"x":r.xLeft?c-i:c+i,"y":o-l})}M({"x":r.x,"y":r.y,"r":r.size,"fillColor":"#1E90FF"})})),w.current=Object(n.a)(w.current),m.current++,m.current>1e4&&(m.current=0),R(),requestAnimationFrame(canvasInit)}},k=function drawGradient(e){var n=e.x1,a=e.y1,c=e.r,o=e.x2,l=e.y2,i=e.color1,u=e.color2,s=e.type,f=void 0===s?"linear":s;if(x){if(x.save(),"linear"===f){var d=x.createLinearGradient(n,a,o,l);d.addColorStop(0,i),d.addColorStop(1,u),x.fillStyle=d,x.fillRect(a,a,2*o,l)}else{var b=x.createRadialGradient(n,a,c,n,a,2*c);b.addColorStop(0,i),b.addColorStop(1,u),x.fillStyle=b,x.fillRect(0,0,t,r)}x.restore()}},M=function drawCircle(e){var t=e.x,r=e.y,n=e.r,a=e.fillColor,c=void 0===a?"#000":a;x&&(x.save(),x.beginPath(),x.fillStyle=c,x.arc(t,r,n,0,2*Math.PI),x.stroke(),x.fill(),x.restore())},R=function fishesAnimation(){P.current.forEach((function(e,t){var r=P.current[t],n=rand(r.r/80,r.r/40),a=rand(.004,.009);r.isUp?r.y>r.originY-r.r?r.y-=n:(r.isUp=!1,r.y+=n):r.y<r.originY+r.r?r.y+=n:(r.isUp=!0,r.y-=n);r.enlarge?r.scale<1.15?r.scale=Math.max(r.scale+a,1.15):(r.enlarge=!1,r.scale=Math.max(r.scale-a,.9)):r.scale>.9?r.scale=Math.max(r.scale-a,.9):(r.enlarge=!0,r.scale=Math.max(r.scale+a,1.15));var c=r.x,o=r.y,l=r.r,i=r.scale,u={"r":0,"g":0,"b":0};Math.random()>.95&&(u={"r":rand(0,255),"g":rand(0,255),"b":rand(0,255)},k({"x1":c,"y1":o,"x2":c+1.5*l,"y2":o+1.5*l,"r":1.8*l,"color1":"rgba(".concat(u.r,",").concat(u.g,",").concat(u.b,",0.5)"),"color2":"rgba(21, 8, 105,0.5)","type":"circle"})),A({"x":c,"y":o,"r":l,"scale":i,"rgb":u})}))},A=function fish(e){var t=e.x,r=e.y,n=e.r,a=e.scale,c=e.rgb;if(x){var o=n/10,l=o/3;x.save(),x.save(),M({"x":t,"y":r,"r":n*a,"fillColor":"rgba(".concat(c.r,",").concat(c.g,",").concat(c.b,",0.5)")}),x.fillStyle="rgba(255,255,255,0.7)",x.font="20px -apple-system-font,Helvetica Neue,sans-serif",x.textAlign="center",x.fillText("完成率：".concat(y,"%"),t,r),x.restore(),M({"x":t-o,"y":r-n,"r":o,"fillColor":"#fff"}),M({"x":t+o,"y":r-n,"r":o,"fillColor":"#fff"}),M({"x":t-o,"y":r-n,"r":l,"fillColor":"#000"}),M({"x":t+o,"y":r-n,"r":l,"fillColor":"#000"});var i=n/3;x.fillStyle="#000",x.fillRect(t-i/2,r-n/5*3,i,2),x.restore()}};return Object(d.jsx)(u.g,{"children":Object(d.jsx)("canvas",{"ref":b})})}}}]);